{"version":3,"file":"component---src-pages-discussions-index-js-b3c87d6d3d77fa1eec50.js","mappings":"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","sources":["webpack://whaleal-platform/./src/pages/discussions/index.js"],"sourcesContent":["/**\n * è®¨è®ºåŒºåˆ—è¡¨é¡µ\n */\nimport React from 'react';\nimport { graphql, Link } from 'gatsby';\nimport Layout from '../../components/Layout';\nimport SEO from '../../components/SEO';\nimport './discussions.css';\n\n// Emoji æ˜ å°„è¡¨ï¼ˆGitHub Discussions ä½¿ç”¨çš„ emoji ä»£ç ï¼‰\nconst emojiMap = {\n  ':mega:': 'ğŸ“£',\n  ':speech_balloon:': 'ğŸ’¬',\n  ':bulb:': 'ğŸ’¡',\n  ':ballot_box_with_ballot:': 'ğŸ—³ï¸',\n  ':pray:': 'ğŸ™',\n  ':raised_hands:': 'ğŸ™Œ',\n};\n\n// å°† emoji ä»£ç è½¬æ¢ä¸ºå®é™… emoji\nfunction getEmoji(emojiCode) {\n  if (!emojiCode) return '';\n  // å¦‚æœå·²ç»æ˜¯ emojiï¼Œç›´æ¥è¿”å›\n  if (emojiCode.length === 1 || emojiCode.length === 2) return emojiCode;\n  // å¦‚æœæ˜¯ä»£ç æ ¼å¼ï¼ˆå¦‚ :mega:ï¼‰ï¼Œè½¬æ¢ä¸º emoji\n  return emojiMap[emojiCode] || emojiCode;\n}\n\nexport default function DiscussionsPage({ data, pageContext }) {\n  const { labelName, categorySlug } = pageContext || {};\n  const discussions = data?.allGitHubDiscussion?.nodes || [];\n  \n  // æ”¶é›†æ‰€æœ‰åˆ†ç±»\n  const categoryMap = new Map();\n  discussions.forEach(discussion => {\n    if (discussion.category) {\n      const cat = discussion.category;\n      if (!categoryMap.has(cat.slug)) {\n        categoryMap.set(cat.slug, cat);\n      }\n    }\n  });\n  const categories = Array.from(categoryMap.values());\n  \n  // è¿‡æ»¤ Discussions\n  let filteredDiscussions = discussions;\n  if (labelName) {\n    filteredDiscussions = discussions.filter(discussion =>\n      discussion.labels.some(label => label.name === labelName)\n    );\n  } else if (categorySlug) {\n    filteredDiscussions = discussions.filter(discussion =>\n      discussion.category && discussion.category.slug === categorySlug\n    );\n  }\n\n  return (\n    <Layout>\n      <SEO title={labelName ? `æ ‡ç­¾: ${labelName}` : 'è®¨è®ºåŒº'} />\n      <div className=\"page-container discussions-page\">\n        <div className=\"page-header discussions-header\">\n          <h1>\n            {labelName ? `æ ‡ç­¾: ${labelName}` : \n             categorySlug ? categories.find(c => c.slug === categorySlug)?.name || 'åˆ†ç±»' : \n             'ç¤¾åŒºè®¨è®ºåŒº'}\n          </h1>\n          <p>åˆ†äº«ä¸æ¢è®¨ whaleal å®æˆ˜ç»éªŒ</p>\n          <a \n            href=\"https://github.com/arkmsg/discussions/discussions/new\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"new-discussion-btn\"\n          >\n            åˆ›å»ºæ–°è®¨è®º\n          </a>\n        </div>\n        \n        {/* åˆ†ç±»ç­›é€‰ */}\n        {!labelName && !categorySlug && categories.length > 0 && (\n          <div className=\"categories-filter\">\n            <h3>åˆ†ç±»</h3>\n            <div className=\"categories-list\">\n              <Link \n                to=\"/discussions\" \n                className={`category-item ${!categorySlug ? 'active' : ''}`}\n              >\n                å…¨éƒ¨\n              </Link>\n              {categories.map(category => {\n                const emoji = getEmoji(category.emoji);\n                return (\n                  <Link\n                    key={category.slug}\n                    to={`/discussions/category/${category.slug}`}\n                    className={`category-item ${categorySlug === category.slug ? 'active' : ''}`}\n                  >\n                    {emoji && <span className=\"category-emoji\">{emoji}</span>}\n                    {category.name}\n                  </Link>\n                );\n              })}\n            </div>\n          </div>\n        )}\n        \n        <div className=\"discussions-list\">\n          {filteredDiscussions.map(discussion => (\n            <article key={discussion.number} className=\"discussion-card\">\n              <h2>\n                <Link to={`/discussions/${discussion.number}`}>\n                  {discussion.title}\n                </Link>\n              </h2>\n              <div className=\"discussion-meta\">\n                {discussion.category && (\n                  <Link\n                    to={`/discussions/category/${discussion.category.slug}`}\n                    className=\"category-badge\"\n                  >\n                    {getEmoji(discussion.category.emoji) && <span>{getEmoji(discussion.category.emoji)}</span>}\n                    {discussion.category.name}\n                  </Link>\n                )}\n                <span>#{discussion.number}</span>\n                <span>{new Date(discussion.updated_at).toLocaleDateString('zh-CN')}</span>\n                {discussion.labels.map(label => (\n                  <Link\n                    key={label.name}\n                    to={`/discussions/tag/${label.name}`}\n                    className=\"label\"\n                    style={{ backgroundColor: `#${label.color}` }}\n                  >\n                    {label.name}\n                  </Link>\n                ))}\n              </div>\n            </article>\n          ))}\n        </div>\n        \n        {/* è·³è½¬åˆ° GitHub Discussions */}\n        <div className=\"discussions-footer\">\n          <a \n            href=\"https://github.com/arkmsg/discussions/discussions\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"github-discussions-link\"\n          >\n            åœ¨ GitHub ä¸ŠæŸ¥çœ‹æ›´å¤šè®¨è®º â†’\n          </a>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query {\n    allGitHubDiscussion(sort: { updated_at: DESC }) {\n      nodes {\n        number\n        title\n        state\n        category {\n          id\n          name\n          slug\n          emoji\n        }\n        labels {\n          name\n          color\n        }\n        updated_at\n      }\n    }\n  }\n`;\n\n"],"names":["emojiMap","getEmoji","emojiCode","length","DiscussionsPage","_ref","_data$allGitHubDiscus","_categories$find","data","pageContext","labelName","categorySlug","discussions","allGitHubDiscussion","nodes","categoryMap","Map","forEach","discussion","category","cat","has","slug","set","categories","Array","from","values","filteredDiscussions","filter","labels","some","label","name","React","Layout","SEO","title","className","find","c","href","target","rel","Link","to","map","emoji","key","number","Date","updated_at","toLocaleDateString","style","backgroundColor","color"],"sourceRoot":""}